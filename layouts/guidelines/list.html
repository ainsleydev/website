{{ define "main" }}
	<!-- =====================
		Guidelines List
		===================== -->
	<div class="guidelines-container">
		<!-- =====================
			Mobile
			===================== -->
		<div class="guidelines-header">
			<header class="header header-colour-white header-default header-hamburger" data-header-element="">
				<!-- Logo -->
				<a href="/" class="header-logo cursor-element" aria-label="Navigate to the homepage"
				   data-cursor-invert data-cursor-invert-black data-cursor-scale="1.6">
					{{- partial "svgs/logo.html" -}}
				</a>
				<!-- Hamburger -->
				{{ partial "svgs/hamburger.html" }}
			</header>
		</div>
		<!-- =====================
			Menu
			===================== -->
		<aside class="guidelines-aside">
			<!-- Wrapper -->
			<div class="guidelines-aside-wrapper" id="guidelines-aside-wrapper">
				<!-- Header -->
				<header class="guidelines-aside-header">
					<!-- Logo -->
					<a href="/" class="header-logo cursor-element" aria-label="Navigate to the homepage"
					   data-cursor-invert data-cursor-invert-black data-cursor-scale="1.6">
						{{- partial "svgs/logo.html" -}}
					</a>
				</header>
				<!-- Items -->
				{{ $section := site.GetPage "section" "guidelines" }}
				{{ if $section }}
					<menu class="guidelines-menu">
						{{ range sort $section.Sections "Weight" }}
							<li class="guidelines-menu-section">
								<!-- Section Title -->
								<h6 class="guidelines-menu-title">
									{{ .Name }}
								</h6>
								<!-- Sub -->
								{{ $pages := sort .RegularPages "Weight" }}
								{{ if gt (len $pages) 0 }}
									<menu class="guidelines-menu-sub">
										{{ range $pages }}
											<li class="guidelines-menu-item">
												<a class="guidelines-menu-link
												{{ if eq $.Page.RelPermalink .RelPermalink -}} guidelines-menu-active {{- end }}"
												   href="{{ .RelPermalink }}"
												   title="{{ .Name }} Page"
												   aria-label="Navigate to the {{ .Name }} page">
													{{ .Name }}
												</a>
											</li>
										{{ end }}
									</menu>
								{{ end -}}
							</li>
						{{ end }}
					</menu>
				{{ else -}}
					{{ errorf "No guidelines defined in menu.yaml" }}
				{{- end }}
			</div><!-- /Wrapper -->
			<!-- Overlay -->
			<div class="guidelines-aside-overlay" id="guidelines-aside-overlay">
				<figure class="guidelines-aside-close">
					{{ partial "svgs/cross.html" }}
				</figure>
			</div>
		</aside>
		<!-- =====================
			Content
			===================== -->
		<article class="guidelines-content">
			<div class="guidelines-content-container">
				<!-- Title -->
				<div class="guidelines-content-heading">
					<h1 class="heading-2">
						{{ .Title }}
					</h1>
				</div>
				<!-- Intro Content (if any) -->
				{{ if .Content }}
					<div class="guidelines-content-richtext richtext richtext-small-format">
						{{ .Content | replaceRE "/a>\n" "/a>" | safeHTML }}
					</div>
				{{ end }}
				<!-- Child Pages List -->
				{{ $pages := sort .RegularPages "Weight" }}
				{{ if gt (len $pages) 0 }}
					<div class="guidelines-content-list">
						<h2 class="heading-3">Pages</h2>
						<ul class="guidelines-pages-list">
							{{ range $pages }}
								<li class="guidelines-page-item">
									<a href="{{ .RelPermalink }}" class="guidelines-page-link" title="Navigate to {{ .Title }}">
										<h3 class="heading-4">{{ .Title }}</h3>
										{{ if .Params.description }}
											<p class="guidelines-page-description">{{ .Params.description }}</p>
										{{ else if .Summary }}
											<p class="guidelines-page-description">{{ .Summary }}</p>
										{{ end }}
									</a>
								</li>
							{{ end }}
						</ul>
					</div>
				{{ end }}
				<!-- Footer -->
				<footer class="guidelines-footer">
					<!-- Last Mod -->
					<small class="guidelines-footer-last-mod">
						Last modified: {{ .Lastmod.Format "02/01/2006" }}
					</small>
					<!-- Copyright -->
					<small>
						2022-{{ now.Year }} Â©ainsley.dev, All rights reserved.
					</small>
				</footer>
			</div><!-- /Container -->
		</article>
	</div><!-- /Container -->
{{ end }}
